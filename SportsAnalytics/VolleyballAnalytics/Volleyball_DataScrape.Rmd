---
title: "Scraping"
author: "Louis Nass"
date: "2023-06-23"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
library(RSelenium)
library(wdman)
library(netstat)
selenium()
selenium_object<-selenium(retcommand = TRUE,check = FALSE)
binman::list_versions("chromedriver")
remote_driver<-rsDriver(browser = "chrome", chromever = "116.0.5845.96", verbose = F, port = free_port())
remDr<-remote_driver$client
remDr$open()
remDr$navigate("https://portal.volleymetrics.hudl.com/?utm_content=volleymetrics_primary&utm_source=www.hudl.com&utm_medium=login_dropdown&utm_campaign=platform_logins#/auth/login")
username <- remDr$findElement(using = "xpath", value = '//*[@id="username"]')
username$sendKeysToElement(list("insert username here"))
password <-remDr$findElement(using = "xpath", value = '//*[(@id = "password")]')
password$sendKeysToElement(list("insert password here"))
login<-remDr$findElement(using = "xpath", value = "//button[text()='LOGIN']")
login$clickElement()

```

## Including Plots

You can also embed plots, for example:

```{r}
stats<-remDr$findElement(using = "xpath", value = "/html/body/div[2]/div[2]/div/div/div/div[3]/div[1]/left-menu/div/div[1]/left-menu-button[5]/a/div/div[2]/span[text()='Stats']")
```


```{r}
 stats$clickElement()
```

```{r}
year<-remDr$findElement(using = "xpath", value = "/html/body/div[2]/div[2]/div/div/div/div[3]/div[2]/div[1]/div/div[1]/vm-input-box[3]/div/div/input")
year$clearElement()
year$sendKeysToElement(list("2022"))
year$sendKeysToElement(list(key = "enter"))
```

```{r}
team<-remDr$findElement(using = "xpath", value = "/html/body/div[2]/div[2]/div/div/div/div[3]/div[2]/div[1]/div/div[1]/vm-input-box[2]/div/div/input")

team$sendKeysToElement(list("\uE03D", "a"))
team$sendKeysToElement(list(key = "backspace"))

team$sendKeysToElement(list("Texas"))
team$sendKeysToElement(list(key = "enter"))

team$sendKeysToElement(list("\uE03D", "a"))
team$sendKeysToElement(list(key = "backspace"))

team$sendKeysToElement(list("Marquette"))
team$sendKeysToElement(list(key = "enter"))

Sys.sleep(3)

acePct<-remDr$findElement(using = "xpath", value = "/html/body/div[2]/div[2]/div/div/div/div[3]/div[2]/div[1]/div/stats-table/div/div[1]/div[2]/div[2]/div[3]/div[13]/span")

acePct$getElementText()

serveErrorPct<-remDr$findElement(using = "xpath", value = "/html/body/div[2]/div[2]/div/div/div/div[3]/div[2]/div[1]/div/stats-table/div/div[1]/div[2]/div[2]/div[3]/div[15]/span")
serveErrorPct$getElementText()


```
